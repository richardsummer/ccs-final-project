(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{66:function(e,t,a){},67:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(0),r=a.n(s),i=a(30),o=a.n(i),c=(a(66),a(24)),l=a(18),h=a(48),d=a(12),u=a(13),j=a(7),b=a(15),p=a(14),m=(a(56),a(67),a(17)),O=a.n(m),f=a(26),x=a(11),g=a.n(x),v=a(79),y=a(58),k=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={image:null,preview:"",title:"",text:"",isEditing:!1},n.createPost=n.createPost.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.updatePost=n.updatePost.bind(Object(j.a)(n)),n.removePost=n.removePost.bind(Object(j.a)(n)),n.handleImage=n.handleImage.bind(Object(j.a)(n)),n}return Object(u.a)(a,[{key:"handleImage",value:function(e){var t=this,a=e.target.files[0];this.setState({image:a});var n=new FileReader;n.onloadend=function(){t.setState({preview:n.result})},n.readAsDataURL(a)}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"createPost",value:function(e){e.preventDefault();var t=new FormData;t.append("image",this.state.image),t.append("title",this.state.title),t.append("text",this.state.text),fetch("/api/v1/hottakes/",{method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken")},body:t}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).catch((function(e){console.error("Error:",e)}))}},{key:"updatePost",value:function(){var e=Object(f.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.match.params.id,(n=new FormData).append("title",this.state.title),n.append("text",this.state.text),this.state.image&&"string"!==typeof this.state.image&&n.append("image",this.state.image),e.next=8,fetch("/api/v1/hottakes/".concat(a,"/"),{method:"PATCH",headers:{"X-CSRFToken":g.a.get("csrftoken")},body:n});case 8:this.props.history.push("/hottakes");case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removePost",value:function(){var e=Object(f.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,e.next=3,fetch("/api/v1/hottakes/".concat(t,"/"),{method:"DELETE",headers:{"X-CSRFToken":g.a.get("csrftoken")}});case 3:this.props.history.push("/hottakes");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;t&&fetch("/api/v1/hottakes/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState(Object(c.a)(Object(c.a)({},t),{},{isEditing:!0}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container form-container mt-5 mb-5 pt-3 pb-3 border border-secondary rounded",children:Object(n.jsxs)(v.a,{onSubmit:this.state.isEditing?this.updatePost:this.createPost,className:"col-lg-12 pt-5 pb-5 pr-5 pl-5",children:[Object(n.jsx)(v.a.Label,{className:"fine-print",children:"Title"}),Object(n.jsx)(v.a.Control,{className:"mb-3",placeholder:"Title",size:"lg",id:"title",name:"title",value:this.state.title,onChange:this.handleChange}),Object(n.jsx)(v.a.Label,{className:"fine-print",children:"Body"}),Object(n.jsx)(v.a.Group,{controlId:"exampleForm.ControlTextarea1",children:Object(n.jsx)(v.a.Control,{placeholder:"Content",size:"lg",id:"text",name:"text",value:this.state.text,onChange:this.handleChange,as:"textarea",rows:15})}),Object(n.jsx)(v.a.File,{className:"btn mb-3",name:"image",onChange:this.handleImage}),this.state.isEditing?Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(y.a,{type:"submit",className:"btn btn-primary ml-5",size:"lg",children:"Save"}),Object(n.jsx)(y.a,{type:"button",className:"btn btn-danger ml-3",onClick:this.removePost,variant:"danger",size:"lg",children:"Delete"})]}):Object(n.jsx)(y.a,{type:"submit",className:"btn btn-primary ml-5",size:"lg",children:"Create"})]})})}}]),a}(s.Component),C=a(33),w=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={username:"",email:"",password1:"",password2:""},e.handleChange=e.handleChange.bind(Object(j.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(j.a)(e)),e}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){var t=this;return e.preventDefault(),fetch("api/v1/rest-auth/registration/",{method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){e.key&&(g.a.set("Authorization","Token ".concat(e.key)),localStorage.setItem("user",JSON.stringify(e.user)),t.props.handleAuth({isAuth:!0}),t.props.history.push("/hottakes/"))})).catch((function(e){console.error("Error:",e)})),this.setState({error:""})}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container login-container border border-dark rounded mt-5 mb-5 pt-5 pb-5 pl-5 pr-5",children:Object(n.jsxs)(v.a,{onSubmit:this.handleSubmit,children:[this.state.error&&Object(n.jsxs)("h3",{"data-test":"error",onClick:this.dismissError,children:[Object(n.jsx)("button",{onClick:this.dismissError,children:"\u2716"}),this.state.error]}),Object(n.jsx)("h2",{className:"pb-3",children:"Create Your Account"}),Object(n.jsxs)(v.a.Group,{controlId:"formBasicUsername",children:[Object(n.jsx)(v.a.Label,{children:"Username"}),Object(n.jsx)(v.a.Control,{type:"username",name:"username",value:this.state.username,onChange:this.handleChange,required:!0,placeholder:"Enter username",size:"lg"})]}),Object(n.jsxs)(v.a.Group,{controlId:"formBasicEmail",children:[Object(n.jsx)(v.a.Label,{children:"Email"}),Object(n.jsx)(v.a.Control,{type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0,placeholder:"Enter email",size:"lg"})]}),Object(n.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(v.a.Label,{children:"Password"}),Object(n.jsx)(v.a.Control,{type:"password",name:"password1",placeholder:"Password",value:this.state.password1,onChange:this.handleChange,required:!0,size:"lg"})]}),Object(n.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(v.a.Label,{children:"Re-Enter Password"}),Object(n.jsx)(v.a.Control,{type:"password",name:"password2",placeholder:"Password",value:this.state.password2,onChange:this.handleChange,required:!0,size:"lg"})]}),Object(n.jsx)(y.a,{className:"mt-2",variant:"primary",type:"submit",value:"Log In","data-test":"submit",size:"lg",children:"Sign-Up"}),Object(n.jsxs)(v.a.Text,{className:"fine-print mt-2 ml-3 text-muted pt-2",children:["Already have an account? ",Object(n.jsx)(C.b,{to:"/login",children:"Login"}),"."]})]})})}}]),a}(s.Component),S=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).logout=function(){},e.state={username:"",password:""},e.handleChange=e.handleChange.bind(Object(j.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(j.a)(e)),e}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){var t=this;return e.preventDefault(),fetch("api/v1/rest-auth/login/",{method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){e.key&&(g.a.set("Authorization","Token ".concat(e.key)),localStorage.setItem("user",JSON.stringify(e.user)),t.props.handleAuth({isAuth:!0}),t.props.history.push("/hottakes/"))})).catch((function(e){console.error("Error:",e)})),this.setState({error:""})}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container login-container border border-dark rounded mt-5 mb-5 pt-5 pb-5 pl-5 pr-5",children:Object(n.jsxs)(v.a,{onSubmit:this.handleSubmit,children:[this.state.error&&Object(n.jsxs)("h3",{"data-test":"error",onClick:this.dismissError,children:[Object(n.jsx)("button",{onClick:this.dismissError,children:"\u2716"}),this.state.error]}),Object(n.jsx)("h2",{className:"pb-3",children:"Login"}),Object(n.jsxs)(v.a.Group,{controlId:"formBasicUsername",children:[Object(n.jsx)(v.a.Label,{children:"Username"}),Object(n.jsx)(v.a.Control,{type:"username",name:"username",value:this.state.username,onChange:this.handleChange,required:!0,placeholder:"Enter username",size:"lg"})]}),Object(n.jsxs)(v.a.Group,{controlId:"formBasicPassword",children:[Object(n.jsx)(v.a.Label,{children:"Password"}),Object(n.jsx)(v.a.Control,{type:"password",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,required:!0,size:"lg"})]}),Object(n.jsx)(y.a,{className:"mt-3",variant:"primary",type:"submit",value:"Log In","data-test":"submit",size:"lg",children:"Login"})]})})}}]),a}(s.Component),N=a(82),T=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={episodes:[],currently_playing:"",notes:[],text:""},n.adminPostNote=n.adminPostNote.bind(Object(j.a)(n)),n.onChange=n.onChange.bind(Object(j.a)(n)),n.fetchNotes=n.fetchNotes.bind(Object(j.a)(n)),n.selectEpisode=n.selectEpisode.bind(Object(j.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/spotify_show_episodes/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),this.setState({episodes:a.items,currently_playing:a.items[0].id}),console.log("currently_playing",a.items[0].id),this.fetchNotes();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectEpisode",value:function(e){this.setState({currently_playing:e},this.fetchNotes)}},{key:"fetchNotes",value:function(){var e=Object(f.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/episodes/".concat(this.state.currently_playing,"/notes/"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({notes:a}),console.log(this.state.currently_playing);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"adminPostNote",value:function(){var e=Object(f.a)(O.a.mark((function e(t){var a,n,s,r,i,o,c,l=this;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("/api/v1/episodes/");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,s=n.filter((function(e){return e.show_id===l.state.currently_playing})),console.log(s),r={text:this.state.text,episode:s},console.log(r),i={method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(r)},e.next=14,fetch("/api/v1/episodes/".concat(this.state.currently_playing,"/notes/"),i);case 14:return o=e.sent,e.next=17,o.json();case 17:c=e.sent,console.log(c);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this,t=this.state.episodes.map((function(t){return Object(n.jsx)(N.a.Item,{className:"font-weight-bold pt-3 pb-3 border no-border",action:!0,variant:"dark",onClick:function(){return e.selectEpisode(t.id)},children:t.name},t.id)})),a=this.state.notes.map((function(e){return Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("strong",{className:"pr-2",children:e.timestamp}),Object(n.jsx)("p",{children:e.text})]},e.id)}));return Object(n.jsx)(r.a.Fragment,{children:Object(n.jsxs)("div",{className:"container pt-5",width:"100%",children:[Object(n.jsx)("div",{className:"row player-box rounded",children:this.state.currently_playing&&Object(n.jsx)("iframe",{src:"https://open.spotify.com/embed-podcast/episode/".concat(this.state.currently_playing),title:"player",width:"100%",height:"232",frameBorder:"0",allowtransparency:"true",allow:"encrypted-media"})}),Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)(N.a.Item,{className:"episode-list col-12 col-md-4 mt-3 border border-dark rounded",children:t}),Object(n.jsxs)(N.a.Item,{className:"episode-list col-12 col-md-8 mt-3 border border-dark rounded",children:[Object(n.jsx)("h3",{className:"notes-title mb-2",children:"SHOW NOTES"}),a,this.props.isAuth&&Object(n.jsx)(y.a,{className:"btn btn-warning",href:"/notes/edit".concat(this.props.note.id),children:"Edit"})]})]})]})})}}]),a}(s.Component),A=a(37);var E=function(){return Object(n.jsxs)(A.a,{style:{width:"18rem"},children:[Object(n.jsx)(A.a.Img,{variant:"top",src:"./rich.jpg/100px180"}),Object(n.jsxs)(A.a.Body,{children:[Object(n.jsx)(A.a.Title,{children:"Card Title"}),Object(n.jsx)(A.a.Text,{children:"Some quick example text to build on the card title and make up the bulk of the card's content."}),Object(n.jsx)(y.a,{variant:"primary",children:"Go somewhere"})]})]})},P=a(80),L=a(81),I=function(e){return Object(n.jsxs)(P.a,{className:"my-nav",variant:"dark",expand:"lg",children:[Object(n.jsx)(P.a.Brand,{className:"title-logo",href:"/",children:"4 VERTICALS PODCAST"}),Object(n.jsx)(P.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(n.jsxs)(P.a.Collapse,{id:"basic-navbar-nav",children:[Object(n.jsxs)(L.a,{className:"mr-auto pl-5",children:[Object(n.jsx)(L.a.Link,{href:"/",children:"Episodes"}),Object(n.jsx)(L.a.Link,{href:"/hottakes/",children:"Hot Takes"}),e.isAuth?Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)(L.a.Link,{href:"/hottakes/new/",children:"New Hot Take"}),Object(n.jsx)(L.a.Link,{href:"/notes/new",children:"New Show Note"}),Object(n.jsx)(y.a,{onClick:e.handleLogout,children:"Logout"})]}):null]}),Object(n.jsxs)(L.a,{className:"social-bar pr-5",children:[Object(n.jsx)("a",{href:"https://www.instagram.com/4verticalspod/",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("i",{className:"mr-3 fab fa-instagram instagram-icon"})}),Object(n.jsx)("a",{href:"https://twitter.com/4VerticalsPod",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("i",{className:"mr-3 fab fa-twitter twitter-icon"})}),Object(n.jsx)("a",{href:"https://open.spotify.com/show/6Verqcb4xk7hVvEM2XCjkv",target:"_blank",rel:"noreferrer",children:Object(n.jsx)("i",{className:"mr-3 fab fa-spotify spotify-icon"})})]})]})]})},F=a(78),z=a(77),_=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={show:!1},n.handleClose=n.handleClose.bind(Object(j.a)(n)),n.handleShow=n.handleShow.bind(Object(j.a)(n)),n}return Object(u.a)(a,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(){this.setState({show:!0})}},{key:"render",value:function(){var e=this.props.hottake.text.split("\n").map((function(e){return e?Object(n.jsx)("p",{children:e}):Object(n.jsx)("br",{})}));return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsxs)(A.a,{className:"border border-secondary rounded",style:{width:"22rem"},children:[Object(n.jsx)(A.a.Img,{variant:"top",src:this.props.hottake.image}),Object(n.jsxs)(A.a.Body,{children:[Object(n.jsx)(A.a.Title,{children:this.props.hottake.title}),Object(n.jsx)(A.a.Text,{}),Object(n.jsx)(y.a,{className:"btn btn-primary",onClick:this.handleShow,children:"Read More"}),this.props.isAuth&&Object(n.jsx)(y.a,{className:"btn btn-warning ml-3",href:"/hottakes/edit/".concat(this.props.hottake.id),children:"Edit"})]})]}),Object(n.jsxs)(F.a,{show:this.state.show,onHide:this.handleClose,backdrop:"static",keyboard:!1,children:[Object(n.jsx)(F.a.Header,{closeButton:!0,children:Object(n.jsx)(F.a.Title,{children:this.props.hottake.title})}),Object(n.jsx)(F.a.Body,{children:e}),Object(n.jsx)(F.a.Footer,{children:Object(n.jsx)(y.a,{variant:"danger",onClick:this.handleClose,children:"Close"})})]})]})}}]),a}(s.Component),D=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.hottakes.length||this.props.fetchHottakes()}},{key:"render",value:function(){var e=this,t=this.props.hottakes.map((function(t){return Object(n.jsx)(_,{hottake:t,isAuth:e.props.isAuth},t.id)}));return Object(n.jsx)("div",{className:"container mt-5",children:Object(n.jsx)(z.a,{children:Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12",children:t})})})})}}]),a}(s.Component),B=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={episodes:[],notes:[],show_id:"Select",text:"",timestamp:""},n.handleInput=n.handleInput.bind(Object(j.a)(n)),n.addNote=n.addNote.bind(Object(j.a)(n)),n}return Object(u.a)(a,[{key:"addNote",value:function(){var e=this;fetch("/api/v1/episodes/".concat(this.state.show_id,"/notes/"),{method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify({text:this.state.text,timestamp:this.state.timestamp})}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=[].concat(Object(h.a)(e.state.notes),[t]);e.setState({notes:a})})).catch((function(e){console.error("Error:",e)}))}},{key:"handleInput",value:function(e){console.log("firing"),this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){var e=Object(f.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/v1/episodes/");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),this.setState({episodes:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){console.log(this.state.episodes);var e=this.state.episodes.map((function(e){return Object(n.jsx)("option",{value:e.show_id,children:e.title})}));console.log(e);var t=this.state.notes.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("strong",{children:e.timestamp}),"  ",e.text]})}));return Object(n.jsxs)("div",{className:"container form-container mt-5 mb-5 pt-3 pb-3 border border-secondary rounded",children:[Object(n.jsx)(v.a,{className:"col-lg-12 pt-5 pb-5 pr-5 pl-5",children:Object(n.jsxs)(v.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(n.jsx)(v.a.Label,{className:"fine-print",children:"Select Episode"}),Object(n.jsxs)("select",{name:"show_id",className:"form-control fine-print mb-3",onChange:this.handleInput,children:[Object(n.jsx)("option",{children:"Select episode"}),e]}),Object(n.jsx)(v.a.Label,{className:"fine-print",children:"Enter Timestamp"}),Object(n.jsx)("input",{className:"form-control fine-print mb-3",type:"text",name:"timestamp",size:"lg",placeholder:"00:00:00 (HH:MM:SS)",value:this.state.timestamp,onChange:this.handleInput}),Object(n.jsx)(v.a.Label,{className:"fine-print",children:"Enter Note"}),Object(n.jsx)("input",{className:"form-control fine-print mb-3",type:"text",name:"text",size:"lg",placeholder:"Example: Georgia vs Florida",value:this.state.text,onChange:this.handleInput}),Object(n.jsx)("button",{type:"button",className:"btn btn-success mt-3 ml-2",size:"lg",onClick:this.addNote,children:"Add"})]})}),Object(n.jsxs)("p",{className:"fine-print pr-5 pl-5",children:["Example output: ",Object(n.jsx)("strong",{children:"00:03:27"})," Georgia vs Florida"]}),t]})}}]),a}(s.Component),H=a(8),R=function(e){Object(b.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={isAuth:!!g.a.get("Authorization"),hottakes:[],title:"",text:""},n.handleAuth=n.handleAuth.bind(Object(j.a)(n)),n.handleLogout=n.handleLogout.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.fetchHottakes=n.fetchHottakes.bind(Object(j.a)(n)),n}return Object(u.a)(a,[{key:"fetchHottakes",value:function(){var e=this;fetch("/api/v1/hottakes/").then((function(e){return e.json()})).then((function(t){return e.setState({hottakes:t})}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:this.state.text})};fetch("api/v1/hottakes/new/",a).then((function(e){return e.json()})).then((function(e){return t.setState({hottakes:[e].concat(Object(h.a)(t.state.hottakes)),text:""})}))}},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"handleAuth",value:function(e){this.setState(e)}},{key:"handleLogout",value:function(){var e=this;return console.log("here"),fetch("/api/v1/rest-auth/logout/",{method:"POST",headers:{"X-CSRFToken":g.a.get("csrftoken")}}).then((function(e){return e.json()})).then((function(t){"Successfully logged out."===t.detail&&(console.log("firing"),g.a.remove("Authorization"),localStorage.removeItem("user"),e.setState({isAuth:!1}),e.props.history.push("/login"))})).catch((function(e){console.error("Error:",e)})),this.setState({error:""})}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(r.a.Fragment,{children:[Object(n.jsx)("div",{className:"top-line"}),Object(n.jsx)(I,{isAuth:this.state.isAuth,handleLogout:this.handleLogout}),Object(n.jsxs)(H.c,{children:[Object(n.jsx)(H.a,{path:"/register",render:function(t){return Object(n.jsx)(w,Object(c.a)(Object(c.a)({},t),{},{isAuth:e.state.isAuth,handleAuth:e.handleAuth}))}}),Object(n.jsx)(H.a,{path:"/login",render:function(t){return Object(n.jsx)(S,Object(c.a)(Object(c.a)({},t),{},{isAuth:e.state.isAuth,handleAuth:e.handleAuth}))}}),Object(n.jsx)(H.a,{path:"/notes/new",component:B}),Object(n.jsx)(H.a,{path:"/hottakes/new",component:k}),Object(n.jsx)(H.a,{path:"/hottakes/edit/:id",component:k}),Object(n.jsx)(H.a,{path:"/hottakes",render:function(t){return Object(n.jsx)(D,Object(c.a)(Object(c.a)({},t),{},{hottakes:e.state.hottakes,fetchHottakes:e.fetchHottakes,isAuth:e.state.isAuth}))}}),Object(n.jsx)(H.a,{path:"/about",component:E}),Object(n.jsx)(H.a,{path:"/",component:T})]}),Object(n.jsxs)("footer",{className:"page-footer font-small unique-color-dark pt-4 mt-5",children:[Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("div",{className:"col-12 social-bar"})}),Object(n.jsx)("ul",{className:"list-unstyled list-inline text-center py-2",children:Object(n.jsx)(y.a,{href:"/login",className:"btn btn-dark mt-3",children:"Admin"})})]}),Object(n.jsx)("div",{className:"footer-copyright text-center py-3",children:"\xa9 2020 Copyright, 4 Verticals"})]})]})}}]),a}(r.a.Component),G=Object(H.f)(R),q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,83)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),n(e),s(e),r(e),i(e)}))};o.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(C.a,{children:Object(n.jsx)(G,{})})}),document.getElementById("root")),q()}},[[75,1,2]]]);
//# sourceMappingURL=main.664fb85a.chunk.js.map