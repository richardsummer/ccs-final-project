(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{213:function(t,e,n){"use strict";(function(t){var a=n(0),s=n(2),i=n.n(s);e.a=function(){var e=n(230),s={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+new t("77bc348feb984dd98e7a00c0a703a76a:a978551bea3841aab6a3adfc45bfeec5").toString("base64")},form:{grant_type:"client_credentials"},json:!0};return e.post(s,(function(t,n,a){if(!t&&200===n.statusCode){var s={url:"https://open.spotify.com/show/6Verqcb4xk7hVvEM2XCjkv?si=nP3P_T3mTaOcQDWmKbFkSw",headers:{Authorization:"Bearer "+a.access_token},json:!0};e.get(s,(function(t,e,n){console.log(n)}))}})),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("iframe",{src:"https://open.spotify.com/embed-podcast/show/6Verqcb4xk7hVvEM2XCjkv",title:"player",width:"100%",height:"232",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"})}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-8",children:Object(a.jsx)("h2",{children:"Episodes"})}),Object(a.jsx)("div",{className:"col-4",children:Object(a.jsx)("h2",{children:"Notes"})})]})]})}}).call(this,n(7).Buffer)},221:function(t,e,n){},223:function(t,e,n){},244:function(t,e){},246:function(t,e){},256:function(t,e){},258:function(t,e){},283:function(t,e){},285:function(t,e){},286:function(t,e){},292:function(t,e){},294:function(t,e){},312:function(t,e){},314:function(t,e){},326:function(t,e){},329:function(t,e){},334:function(t,e){},336:function(t,e){},359:function(t,e){},457:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(2),i=n.n(s),r=n(82),o=n.n(r),c=(n(221),n(36)),h=n(27),u=n(214),l=n(30),d=n(31),j=n(11),b=n(33),f=n(32),O=(n(222),n(223),n(23)),m=n.n(O),p=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={image:null,preview:"",title:"",text:"",isEditing:!1},a.createPost=a.createPost.bind(Object(j.a)(a)),a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.updatePost=a.updatePost.bind(Object(j.a)(a)),a.removePost=a.removePost.bind(Object(j.a)(a)),a.handleImage=a.handleImage.bind(Object(j.a)(a)),a}return Object(d.a)(n,[{key:"handleImage",value:function(t){var e=this,n=t.target.files[0];this.setState({image:n});var a=new FileReader;a.onloadend=function(){e.setState({preview:a.result})},a.readAsDataURL(n)}},{key:"handleChange",value:function(t){this.setState(Object(h.a)({},t.target.name,t.target.value))}},{key:"createPost",value:function(t){t.preventDefault(),fetch("/api/v1/hottakes/",{method:"POST",headers:{"X-CSRFToken":m.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,text:this.state.text,image:this.state.image})}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){console.error("Error:",t)}))}},{key:"updatePost",value:function(t){t.preventDefault();var e=this.props.match.params.id;fetch("/api/v1/hottakes/".concat(e,"/"),{method:"PUT",headers:{"X-CSRFToken":m.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify({title:this.state.title,text:this.state.text})}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){console.error("Error:",t)}))}},{key:"removePost",value:function(){var t=this.props.match.params.id;fetch("/api/v1/hottakes/".concat(t,"/"),{method:"DELETE",headers:{"X-CSRFToken":m.a.get("csrftoken")}}).then((function(t){return t.json()})).then((function(t){return console.log(t)})).catch((function(t){console.error("Error:",t)}))}},{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.id;e&&fetch("/api/v1/hottakes/".concat(e)).then((function(t){return t.json()})).then((function(e){return t.setState(Object(c.a)(Object(c.a)({},e),{},{isEditing:!0}))}))}},{key:"render",value:function(){return Object(a.jsxs)("form",{onSubmit:this.state.isEditing?this.updatePost:this.createPost,className:"col-md-10",children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"Title for the Post:"}),Object(a.jsx)("input",{id:"title",name:"title",value:this.state.title,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"text",children:"Content:"}),Object(a.jsx)("textarea",{id:"text",name:"text",value:this.state.text,onChange:this.handleChange,className:"form-control",rows:"7",cols:"25"})]}),Object(a.jsx)("input",{type:"file",name:"image",onChange:this.handleImage}),this.state.isEditing?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"}),Object(a.jsx)("button",{type:"button",onClick:this.removePost,className:"btn btn-primary",children:"Delete"})]}):Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]})}}]),n}(s.Component),g=n(51),v=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).state={username:"",email:"",password1:"",password2:""},t.handleChange=t.handleChange.bind(Object(j.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(j.a)(t)),t}return Object(d.a)(n,[{key:"handleSubmit",value:function(t){var e=this;return t.preventDefault(),fetch("api/v1/rest-auth/registration/",{method:"POST",headers:{"X-CSRFToken":m.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(t){return t.json()})).then((function(t){t.key&&(m.a.set("Authorization","Token ".concat(t.key)),localStorage.setItem("user",JSON.stringify(t.user)),e.props.handleAuth({isAuth:!0}))})).catch((function(t){console.error("Error:",t)})),this.setState({error:""})}},{key:"handleChange",value:function(t){this.setState(Object(h.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Login",children:[Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.state.error&&Object(a.jsxs)("h3",{"data-test":"error",onClick:this.dismissError,children:[Object(a.jsx)("button",{onClick:this.dismissError,children:"\u2716"}),this.state.error]}),Object(a.jsx)("label",{children:"User Name"}),Object(a.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{type:"text",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Password1"}),Object(a.jsx)("input",{type:"password",name:"password1",value:this.state.password1,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Password2"}),Object(a.jsx)("input",{type:"password",name:"password2",value:this.state.password2,onChange:this.handleChange,required:!0}),Object(a.jsx)("input",{type:"submit",value:"Register"})]}),Object(a.jsx)("div",{className:"d-flex align-items-baseline",children:Object(a.jsxs)("p",{className:"ml-auto",children:["Already have an account? ",Object(a.jsx)(g.b,{to:"/login",children:"Login"}),"."]})})]})}}]),n}(s.Component),x=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){var t;return Object(l.a)(this,n),(t=e.call(this)).logout=function(){},t.state={username:"",password:""},t.handleChange=t.handleChange.bind(Object(j.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(j.a)(t)),t}return Object(d.a)(n,[{key:"handleSubmit",value:function(t){var e=this;return t.preventDefault(),fetch("api/v1/rest-auth/login/",{method:"POST",headers:{"X-CSRFToken":m.a.get("csrftoken"),"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(t){return t.json()})).then((function(t){t.key&&(m.a.set("Authorization","Token ".concat(t.key)),localStorage.setItem("user",JSON.stringify(t.user)),e.props.handleAuth({isAuth:!0}))})).catch((function(t){console.error("Error:",t)})),this.setState({error:""})}},{key:"handleChange",value:function(t){this.setState(Object(h.a)({},t.target.name,t.target.value))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Login",children:[Object(a.jsxs)("form",{onSubmit:this.handleSubmit,children:[this.state.error&&Object(a.jsxs)("h3",{"data-test":"error",onClick:this.dismissError,children:[Object(a.jsx)("button",{onClick:this.dismissError,children:"\u2716"}),this.state.error]}),Object(a.jsx)("label",{children:"User Name"}),Object(a.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handleChange,required:!0}),Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange,required:!0}),Object(a.jsx)("input",{type:"submit",value:"Log In","data-test":"submit"})]}),Object(a.jsx)("div",{className:"d-flex align-items-baseline",children:Object(a.jsxs)("p",{className:"ml-auto",children:["Don't have an account? ",Object(a.jsx)(g.b,{to:"/register",children:"Register"}),"."]})})]})}}]),n}(s.Component),k=n(213);var y=function(){return Object(a.jsx)("div",{className:"About",children:Object(a.jsx)("h1",{children:"About Page"})})},C=n(215),S=n(459),w=n(460),N=n(461),A=n(462),P=n(463),T=n(464),E=n(465),F=function(t){var e=Object(s.useState)(!0),n=Object(C.a)(e,2),i=n[0],r=n[1];return Object(a.jsx)("div",{className:"top-nav",children:Object(a.jsxs)(S.a,{color:"faded",dark:!0,children:[Object(a.jsx)(w.a,{href:"/",className:"mr-auto",children:"4 Verticals Podcast"}),Object(a.jsx)(N.a,{onClick:function(){return r(!i)},className:"mr-2"}),Object(a.jsx)(A.a,{isOpen:!i,navbar:!0,children:Object(a.jsxs)(P.a,{navbar:!0,children:[Object(a.jsxs)(T.a,{children:[Object(a.jsx)(T.a,{children:Object(a.jsx)(E.a,{href:"/",children:"Episodes"})}),Object(a.jsx)(E.a,{href:"/hottakes/",children:"Hot Takes"})]}),Object(a.jsx)(T.a,{children:Object(a.jsx)(E.a,{href:"/about/",children:"About"})}),t.isAuth?Object(a.jsx)("button",{onClick:t.handleLogout,children:"Logout"}):Object(a.jsx)(E.a,{href:"/login",className:"nav-item nav-link",children:"Login"}),Object(a.jsx)(E.a,{href:"/hottakes/new",className:"nav-item nav-link",children:"New Post"})]})})]})})},L=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{children:this.props.hottake.text})}}]),n}(s.Component),D=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={hottakes:[]},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.props.hottakes.length||this.props.fetchHottakes()}},{key:"render",value:function(){var t=this.props.hottakes.map((function(t){return Object(a.jsx)(L,{hottake:t},t.id)}));return Object(a.jsx)(i.a.Fragment,{children:t})}}]),n}(s.Component),I=n(13),R=function(t){Object(b.a)(n,t);var e=Object(f.a)(n);function n(t){var a;return Object(l.a)(this,n),(a=e.call(this,t)).state={isAuth:!!m.a.get("Authorization"),hottakes:[],title:"",text:""},a.handleAuth=a.handleAuth.bind(Object(j.a)(a)),a.handleLogout=a.handleLogout.bind(Object(j.a)(a)),a.handleChange=a.handleChange.bind(Object(j.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(j.a)(a)),a.fetchHottakes=a.fetchHottakes.bind(Object(j.a)(a)),a}return Object(d.a)(n,[{key:"fetchHottakes",value:function(){var t=this;fetch("/api/v1/hottakes/").then((function(t){return t.json()})).then((function(e){return t.setState({hottakes:e})}))}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault();var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:this.state.text})};fetch("api/v1/hottakes/new/",n).then((function(t){return t.json()})).then((function(t){return e.setState({hottakes:[t].concat(Object(u.a)(e.state.hottakes)),text:""})}))}},{key:"handleChange",value:function(t){this.setState(Object(h.a)({},t.target.name,t.target.value))}},{key:"handleAuth",value:function(t){this.setState(t)}},{key:"handleLogout",value:function(){var t=this;return console.log("here"),fetch("api/v1/rest-auth/logout/",{method:"POST",headers:{"X-CSRFToken":m.a.get("csrftoken")}}).then((function(t){return t.json()})).then((function(e){"Successfully logged out."===e.detail&&(console.log("firing"),m.a.remove("Authorization"),localStorage.removeItem("user"),t.setState({isAuth:!1}),t.props.history.push("/login"))})).catch((function(t){console.error("Error:",t)})),this.setState({error:""})}},{key:"render",value:function(){var t=this;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(F,{isAuth:this.state.isAuth,handleLogout:this.handleLogout}),Object(a.jsxs)(I.c,{children:[Object(a.jsx)(I.a,{path:"/register",component:v}),Object(a.jsx)(I.a,{path:"/register",render:function(e){return Object(a.jsx)(v,Object(c.a)(Object(c.a)({},e),{},{isAuth:t.state.isAuth,handleAuth:t.handleAuth}))}}),Object(a.jsx)(I.a,{path:"/login",render:function(e){return Object(a.jsx)(x,Object(c.a)(Object(c.a)({},e),{},{isAuth:t.state.isAuth,handleAuth:t.handleAuth}))}}),Object(a.jsx)(I.a,{path:"/hottakes/new",component:p}),Object(a.jsx)(I.a,{path:"/hottakes/edit/:id",component:p}),Object(a.jsx)(I.a,{path:"/hottakes",render:function(e){return Object(a.jsx)(D,Object(c.a)(Object(c.a)({},e),{},{hottakes:t.state.hottakes,fetchHottakes:t.fetchHottakes}))}}),Object(a.jsx)(I.a,{path:"/about",render:y}),Object(a.jsx)(I.a,{path:"/",render:k.a})]})]})}}]),n}(i.a.Component),J=Object(I.f)(R),q=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,466)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,i=e.getLCP,r=e.getTTFB;n(t),a(t),s(t),i(t),r(t)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(g.a,{children:Object(a.jsx)(J,{})})}),document.getElementById("root")),q()}},[[457,1,2]]]);
//# sourceMappingURL=main.55dab04b.chunk.js.map